{"version":3,"sources":["../src/useBreedList.js","../src/Pet.js","../src/Results.js","../src/ThemeContext.js","../src/SearchParams.js","../src/Carousel.js","../src/ErrorBoundary.js","../src/Modal.js","../src/Details.js","../src/App.js","index.js"],"names":["localCache","useBreedList","animal","breedList","setBreedList","status","setStatus","requestBreedList","res","fetch","json","breeds","Pet","name","breed","images","location","id","hero","length","Results","pets","map","pet","city","state","ThemeContext","SearchParams","ANIMALS","setLocation","setAnimal","setBreed","setPets","theme","setTheme","requestPets","e","preventDefault","target","value","backgroundColor","Carousel","Component","active","event","setState","dataset","index","render","props","photo","handleIndexClick","ErrorBoundary","hasError","redirect","getDerivedStateFromError","componentDidCatch","error","info","console","setTimeout","children","Modal","modalRoot","document","getElementById","elRef","current","createElement","appendChild","removeChild","Details","loading","showModal","window","componentDidMount","match","params","Object","assign","description","toggleModal","adopt","DetailsWithRouter","DetailsWithErrorBoundary","App","PORT","process","env","html","fs","readFileSync","toString","parts","split","app","use","express","static","req","staticContext","reactMarkup","url","statusCode","send","end","log","listen"],"mappings":"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","file":"index.js","sourceRoot":"..\\server","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst localCache = {};\r\n\r\nexport default function useBreedList(animal) {\r\n  const [breedList, setBreedList] = useState([]);\r\n  const [status, setStatus] = useState(\"unloaded\");\r\n\r\n  useEffect(() => {\r\n    if (!animal) {\r\n      setBreedList([]);\r\n    } else if (localCache[animal]) {\r\n      setBreedList(localCache[animal]);\r\n    } else {\r\n      requestBreedList();\r\n    }\r\n\r\n    async function requestBreedList() {\r\n      setBreedList([]);\r\n      setStatus(\"loading\");\r\n\r\n      // eslint-disable-next-line no-undef\r\n      const res = await fetch(\r\n        `http://pets-v2.dev-apis.com/breeds?animal=${animal}`\r\n      );\r\n      const json = await res.json();\r\n      localCache[animal] = json.breeds || [];\r\n      setBreedList(localCache[animal]);\r\n      setStatus(\"loaded\");\r\n    }\r\n  }, [animal]);\r\n\r\n  return [breedList, status];\r\n}\r\n","import { Link } from \"react-router-dom\"; // eslint-disable-line\r\n\r\nconst Pet = ({ name, animal, breed, images, location, id }) => {\r\n  let hero = \"http://pets-images.dev-apis.com/pets/none.jpg\";\r\n  if (images.length) {\r\n    hero = images[0];\r\n  }\r\n\r\n  return (\r\n    <Link to={`/details/${id}`} className=\"pet\">\r\n      <div className=\"image-container\">\r\n        <img src={hero} alt={name} />\r\n      </div>\r\n      <div className=\"info\">\r\n        <h1>{name}</h1>\r\n        <h2>{`${animal} - ${breed} - ${location}`}</h2>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Pet;\r\n","import Pet from \"./Pet\";\r\n\r\nconst Results = ({ pets }) => {\r\n  return (\r\n    <div className=\"search\">\r\n      {!pets.length ? (\r\n        <h2>Pet not found</h2>\r\n      ) : (\r\n        pets.map((pet) => (\r\n          <Pet\r\n            animal={pet.animal}\r\n            key={pet.id}\r\n            name={pet.name}\r\n            breed={pet.breed}\r\n            images={pet.images}\r\n            location={`${pet.city}, ${pet.state}`}\r\n            id={pet.id}\r\n          />\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import { createContext } from \"react\";\r\n\r\nconst ThemeContext = createContext([\"green\", () => {}]);\r\n\r\nexport default ThemeContext;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport useBreedList from \"./useBreedList\";\r\nimport Results from \"./Results\";\r\nimport ThemeContext from \"./ThemeContext\";\r\n\r\nconst ANIMALS = [\"bird\", \"cat\", \"dog\", \"rabbit\", \"reptile\"];\r\n\r\nconst SearchParams = () => {\r\n  const [location, setLocation] = useState(\"\");\r\n  const [animal, setAnimal] = useState(\"\");\r\n  const [breed, setBreed] = useState(\"\");\r\n  const [pets, setPets] = useState([]);\r\n  const [breeds] = useBreedList(animal);\r\n  const [theme, setTheme] = useContext(ThemeContext);\r\n\r\n  useEffect(() => {\r\n    requestPets();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  async function requestPets() {\r\n    // eslint-disable-next-line no-undef\r\n    const res = await fetch(\r\n      `http://pets-v2.dev-apis.com/pets?animal=${animal}&location=${location}&breed=${breed}`\r\n    );\r\n    const json = await res.json();\r\n\r\n    setPets(json.pets);\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-params\">\r\n      <form\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          requestPets();\r\n        }}\r\n      >\r\n        <label htmlFor=\"location\">\r\n          Location\r\n          <input\r\n            id=\"location\"\r\n            onChange={(e) => setLocation(e.target.value)}\r\n            value={location}\r\n            placeholder=\"Location\"\r\n          />\r\n        </label>\r\n        <label htmlFor=\"animal\">\r\n          Animal\r\n          <select\r\n            id=\"animal\"\r\n            value={animal}\r\n            onChange={(e) => setAnimal(e.target.value)}\r\n            onBlur={(e) => setAnimal(e.target.value)}\r\n          >\r\n            <option />\r\n            {ANIMALS.map((animal) => (\r\n              <option value={animal} key={animal}>\r\n                {animal}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <label htmlFor=\"breed\">\r\n          Breed\r\n          <select\r\n            id=\"breed\"\r\n            value={breed}\r\n            onChange={(e) => setBreed(e.target.value)}\r\n            onBlur={(e) => setBreed(e.target.value)}\r\n          >\r\n            <option />\r\n            {breeds.map((breed) => (\r\n              <option value={breed} key={breed}>\r\n                {breed}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <label htmlFor=\"theme\">\r\n          Theme\r\n          <select\r\n            value={theme}\r\n            onChange={(e) => setTheme(e.target.value)}\r\n            onBlur={(e) => setTheme(e.target.value)}\r\n          >\r\n            <option value=\"darkblue\">Dark Blue</option>\r\n            <option value=\"peru\">Peru</option>\r\n            <option value=\"chartreuse\">Chartreuse</option>\r\n            <option value=\"mediumorchid\">Medium Orchid</option>\r\n          </select>\r\n        </label>\r\n        <button style={{ backgroundColor: theme }}>Submit</button>\r\n      </form>\r\n      <Results pets={pets} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchParams;\r\n","import { Component } from \"react\";\r\n\r\nclass Carousel extends Component {\r\n  state = {\r\n    active: 0,\r\n  };\r\n\r\n  static defaultProps = {\r\n    images: [\"http://pets-images.dev-apis.com/pets/none.jpg\"],\r\n  };\r\n\r\n  handleIndexClick = (event) => {\r\n    this.setState({\r\n      active: +event.target.dataset.index,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { active } = this.state;\r\n    const { images } = this.props;\r\n\r\n    return (\r\n      <div className=\"carousel\">\r\n        <img src={images[active]} alt=\"animal\" />\r\n        <div className=\"carousel-smaller\">\r\n          {images.map((photo, index) => (\r\n            // eslint-disable-next-line\r\n            <img\r\n              key={photo}\r\n              src={photo}\r\n              data-index={index}\r\n              onClick={this.handleIndexClick}\r\n              className={index === active ? \"active\" : \"\"}\r\n              alt=\"animal thumbnail\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Carousel;\r\n","// mostly took this from React docs\r\nimport { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\"; // eslint-disable-line\r\n\r\nclass ErrorBoundary extends Component {\r\n  state = {\r\n    hasError: false,\r\n    redirect: false,\r\n  };\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    // I log this to Sentry, Azure Monitor, New Relic, TrackJS\r\n    console.error(\"ErrorBoundary caught an error\", error, info); // eslint-disable-line no-undef\r\n\r\n    // eslint-disable-next-line no-undef\r\n    setTimeout(() => {\r\n      this.setState({ redirect: true });\r\n    }, 5000);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Redirect to=\"/\" />;\r\n    } else if (this.state.hasError) {\r\n      return (\r\n        <h2>\r\n          This listing has an error. <Link to=\"/\">Click here</Link> to go back\r\n          to the home page or wait five seconds.\r\n        </h2>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nlet modalRoot;\r\n\r\nconst Modal = ({ children }) => {\r\n  modalRoot = modalRoot ? modalRoot : document.getElementById(\"modal\");\r\n\r\n  const elRef = useRef(null);\r\n  if (!elRef.current) {\r\n    elRef.current = document.createElement(\"div\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    modalRoot.appendChild(elRef.current);\r\n    return () => {\r\n      modalRoot.removeChild(elRef.current);\r\n    };\r\n  });\r\n\r\n  return createPortal(<div>{children}</div>, elRef.current);\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\"; // eslint-disable-line\r\nimport Carousel from \"./Carousel\";\r\nimport ErrorBoundary from \"./ErrorBoundary\";\r\nimport ThemeContext from \"./ThemeContext\";\r\nimport Modal from \"./Modal\";\r\n\r\nclass Details extends Component {\r\n  state = { loading: true, showModal: false };\r\n\r\n  async componentDidMount() {\r\n    // eslint-disable-next-line no-undef\r\n    const res = await fetch(\r\n      `http://pets-v2.dev-apis.com/pets?id=${this.props.match.params.id}`\r\n    );\r\n    const json = await res.json();\r\n    this.setState(\r\n      Object.assign(\r\n        {\r\n          loading: false,\r\n        },\r\n        json.pets[0]\r\n      )\r\n    );\r\n  }\r\n\r\n  toggleModal = () => {\r\n    this.setState({ showModal: !this.state.showModal });\r\n  };\r\n\r\n  adopt = () => {\r\n    window.location = \"http://bit.ly/pet-adopt\";\r\n  };\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <h2>Loading...</h2>;\r\n    }\r\n\r\n    const { animal, breed, city, state, description, name, images, showModal } =\r\n      this.state;\r\n\r\n    return (\r\n      <div className=\"details\">\r\n        <Carousel images={images} />\r\n        <div>\r\n          <h1>{name}</h1>\r\n          <h2>{`${animal}, ${breed} - ${city}, ${state}`}</h2>\r\n          <ThemeContext.Consumer>\r\n            {([theme]) => (\r\n              <button\r\n                onClick={this.toggleModal}\r\n                style={{ backgroundColor: theme }}\r\n              >\r\n                Adopt {name}\r\n              </button>\r\n            )}\r\n          </ThemeContext.Consumer>\r\n          <p>{description}</p>\r\n          {showModal ? (\r\n            <Modal>\r\n              <div>\r\n                <h1>Would you like to adpot {name}?</h1>\r\n                <div className=\"buttons\">\r\n                  <button onClick={this.adopt}>Yes</button>\r\n                  <button onClick={this.toggleModal}>No</button>\r\n                </div>\r\n              </div>\r\n            </Modal>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst DetailsWithRouter = withRouter(Details);\r\n\r\nexport default function DetailsWithErrorBoundary() {\r\n  return (\r\n    <ErrorBoundary>\r\n      <DetailsWithRouter />\r\n    </ErrorBoundary>\r\n  );\r\n}\r\n","import { StrictMode, useState } from \"react\";\r\nimport { Route, Switch, Link } from \"react-router-dom\"; // eslint-disable-line\r\nimport SearchParams from \"./SearchParams\";\r\nimport Details from \"./Details\";\r\nimport ThemeContext from \"./ThemeContext\";\r\n\r\nconst App = () => {\r\n  const theme = useState(\"#ad343e\");\r\n\r\n  return (\r\n    <StrictMode>\r\n      <ThemeContext.Provider value={theme}>\r\n        <div>\r\n          <header>\r\n            <Link to=\"/\">\r\n              <h1>Adopt Me!</h1>\r\n            </Link>\r\n          </header>\r\n          <Switch>\r\n            <Route path=\"/details/:id\">\r\n              <Details />\r\n            </Route>\r\n            <Route path=\"/\">\r\n              <SearchParams />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </ThemeContext.Provider>\r\n    </StrictMode>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import express from \"express\";\r\nimport { renderToString } from \"react-dom/server\";\r\n// eslint-disable-next-line\r\nimport { StaticRouter } from \"react-router-dom\";\r\nimport fs from \"fs\";\r\nimport App from \"../src/App\";\r\n\r\n// eslint-disable-next-line no-undef\r\nconst PORT = process.env.PORT || 3000;\r\n\r\nconst html = fs.readFileSync(\"dist/index.html\").toString();\r\nconst parts = html.split(\"not rendered\");\r\n\r\nconst app = express();\r\n\r\napp.use(\"/dist\", express.static(\"dist\"));\r\napp.use((req, res) => {\r\n  const staticContext = {};\r\n  const reactMarkup = (\r\n    <StaticRouter url={req.url} context={staticContext}>\r\n      <App />\r\n    </StaticRouter>\r\n  );\r\n\r\n  res.status(staticContext.statusCode || 200);\r\n  res.send(`${parts[0]}${renderToString(reactMarkup)}${parts[1]}`);\r\n  res.end();\r\n});\r\n\r\n// eslint-disable-next-line\r\nconsole.log(`listening on http://localhost:${PORT}`);\r\napp.listen(PORT);\r\n"]}